(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,a,t){e.exports=t(38)},28:function(e,a,t){},29:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(20),l=t.n(s),i=(t(28),t(6)),o=t(7),m=t(9),c=t(8),u=t(10),h=(t(29),t(5)),p=t(11),d=t(12),g=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",message:"",errors:{email:!1}},t.messages={email_incorrect:"Brak @ w emailu"},t.handleChangeLogin=function(e){var a=e.target.name,n=e.target.type;if("text"===n||"email"===n){var r=e.target.value;t.setState(Object(d.a)({},a,r))}},t.handleSubmitPassword=function(e){e.preventDefault();var a=t.formValidation();a.correct?t.setState({email:"",errors:{email:!1}}):t.setState({errors:{email:!a.email}})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"formValidation",value:function(){var e=!1,a=!1,t=new RegExp(/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/);return this.state.email.match(t)&&(e=!0),e&&(a=!0,fetch("http://locahost:3000/remember",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:this.state.email})}).then(function(e){if(e.ok)return e;throw Error("B\u0142edne dane logowania")}).then(function(e){return e.json()}).then(function(e){alert("Has\u0142o zosta\u0142o zrestartowane i przes\u0142ane osobnym mailem")}).catch(function(e){return alert("Nie uda\u0142o si\u0119 Zrestartowa\u0107 has\u0142a -> Sprawd\u017a email")})),{correct:a,email:e}}},{key:"render",value:function(){return r.a.createElement("div",{className:"formularz"},r.a.createElement("span",{className:"titleform"},"Reset"),r.a.createElement("form",{onSubmit:this.handleSubmitPassword,noValidate:!0},r.a.createElement("label",{htmlFor:"email"},"Email:",r.a.createElement("input",{type:"email",id:"email",name:"email",value:this.state.email,onChange:this.handleChangeLogin}),this.state.errors.email&&r.a.createElement("span",{className:"error"},this.messages.email_incorrect),r.a.createElement("br",null)),r.a.createElement("button",null,"Resetuj Has\u0142o")))}}]),a}(r.a.Component),f=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",pass:"",message:"",errors:{email:!1,pass:!1},logOn:{email:"",id:"",name:""}},t.messages={email_incorrect:"Brak @ w emailu",password_incorrect:"Has\u0142o musi mie\u0107 5 znak\xf3w"},t.handleChangeLogin=function(e){var a=e.target.name,n=e.target.type;if("text"===n||"password"===n||"email"===n){var r=e.target.value;t.setState(Object(d.a)({},a,r))}},t.handleSubmit=function(e){e.preventDefault();var a=t.formValidation();a.correct?t.setState({email:"",pass:"",errors:{email:!1,pass:!1}}):t.setState({errors:{email:!a.email,pass:!a.password}})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"formValidation",value:function(){var e=this,a=!1,t=!1,n=!1,r=new RegExp(/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/);return this.state.email.match(r)&&(a=!0),this.state.pass.length>5&&(t=!0),a&&t&&(n=!0,fetch("http://localhost:3000/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:this.state.email,pswd:this.state.pass})}).then(function(e){if(e.ok)return e;throw Error("B\u0142edne dane logowania")}).then(function(e){return e.json()}).then(function(a){e.setState({logOn:{email:a.email,id:a.id,name:a.name_surname}}),alert("Zalogowany jako ".concat(e.state.logOn.name))}).catch(function(e){return alert("Nie uda\u0142o si\u0119 zalogowa\u0107")})),{correct:n,email:a,password:t}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"formularz"},r.a.createElement("span",{className:"titleform"},"Logowanie"),r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("label",{htmlFor:"email"},"Email:",r.a.createElement("input",{type:"email",id:"email",name:"email",value:this.state.email,onChange:this.handleChangeLogin}),this.state.errors.email&&r.a.createElement("span",{className:"error"},this.messages.email_incorrect),r.a.createElement("br",null)),r.a.createElement("label",{htmlFor:"password"},"Has\u0142o:",r.a.createElement("input",{type:"password",id:"password",name:"pass",value:this.state.pass,onChange:this.handleChangeLogin}),this.state.errors.pass&&r.a.createElement("span",{className:"error"},this.messages.password_incorrect),r.a.createElement("br",null)),r.a.createElement("button",null,"Zaloguj")),r.a.createElement(h.b,{to:"/reset"},"Nie pami\u0119tasz has\u0142a ? ")),r.a.createElement(h.a,null,r.a.createElement(p.a,{path:"/reset",component:g})))}}]),a}(r.a.Component),E=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(r)))).state={username:"",email:"",pass:"",message:"",errors:{username:!1,email:!1,pass:!1}},t.messages={username_incorrect:"Conajmniej 5 znak\xf3w",email_incorrect:"Brak @ w emailu",password_incorrect:"Has\u0142o musi mie\u0107 5 znak\xf3w"},t.handleChange=function(e){var a=e.target.name,n=e.target.type;if("text"===n||"password"===n||"email"===n){var r=e.target.value;t.setState(Object(d.a)({},a,r))}},t.handleSubmit=function(e){e.preventDefault();var a=t.formValidation();a.correct?t.setState({username:"",email:"",pass:"",message:"Formularz zosta\u0142 wys\u0142any",errors:{username:!1,email:!1,pass:!1}}):t.setState({errors:{username:!a.username,email:!a.email,pass:!a.password}})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"formValidation",value:function(){var e=!1,a=!1,t=!1,n=!1,r=new RegExp(/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/);return this.state.username.length>5&&-1===this.state.username.indexOf(" ")&&(e=!0),this.state.email.match(r)&&(a=!0),this.state.pass.length>5&&(t=!0),e&&a&&t&&(n=!0,fetch("http://localhost:3000/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name_surname:this.state.username,email:this.state.email,pswd:this.state.pass})}).then(function(e){if(e.ok)return e;throw Error("B\u0142edne dane logowania")}).then(function(e){return e.json()}).then(function(e){alert("Dzi\u0119kuj\u0119 za rejestracj\u0119 ")}).catch(function(e){return alert("Nie uda\u0142o si\u0119 ZZarejestrowa\u0107 konta")})),{correct:n,username:e,email:a,password:t}}},{key:"render",value:function(){return r.a.createElement("div",{className:"formularz"},r.a.createElement("span",{className:"titleform"},"Rejestracja"),r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("label",{htmlFor:"user"},r.a.createElement("span",{className:"info"},"Login:"),r.a.createElement("input",{type:"text",id:"user",name:"username",value:this.state.username,onChange:this.handleChange}),this.state.errors.username&&r.a.createElement("span",{className:"error"},this.messages.username_incorrect)," ",r.a.createElement("br",null)),r.a.createElement("label",{htmlFor:"email"},r.a.createElement("span",{className:"info"},"Email:"),r.a.createElement("input",{type:"email",id:"email",name:"email",value:this.state.email,onChange:this.handleChange}),this.state.errors.email&&r.a.createElement("span",{className:"error"},this.messages.email_incorrect),r.a.createElement("br",null)),r.a.createElement("label",{htmlFor:"password"},r.a.createElement("span",{className:"info"},"Has\u0142o:"),r.a.createElement("input",{type:"password",id:"password",name:"pass",value:this.state.pass,onChange:this.handleChange}),this.state.errors.pass&&r.a.createElement("span",{className:"error"},this.messages.password_incorrect),r.a.createElement("br",null)),r.a.createElement("button",null,"Zarejestruj")))}}]),a}(r.a.Component),b=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("nav",{className:"enter"},r.a.createElement(h.b,{to:"/login"},r.a.createElement("div",null,"Logowanie")),r.a.createElement(h.b,{to:"/registry"},r.a.createElement("div",null,"Rejestracja")),r.a.createElement("main",null,r.a.createElement(p.a,{path:"/login",component:f}),r.a.createElement(p.a,{path:"/registry",component:E}),r.a.createElement(p.a,{path:"/reset",component:g})))))}}]),a}(r.a.Component);l.a.render(r.a.createElement(b,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.83057837.chunk.js.map